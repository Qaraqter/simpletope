!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self),o.simpleIsotope=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){module.exports=function(){this._onIsotopeChange.call(this,this.instances[this.guid])}},{}],2:[function(require,module){module.exports=function($instance){var $defaultSort=(this.settings.dataSelectors.clearFilter,this.settings.defaults.sort),$defaultFilter=this.settings.defaults.filter,$instance=(this.settings.dataSelectors.filter,this.settings.dataSelectors.sortBy,this.settings.defaults.classNames.active,this.instances[this.guid]);$.each($instance.clearContainer,function(key,container){container.elm.each(function(idx,elm){var $elm=$(elm),$history=$instance.isotope.sortHistory;$instance.isotope.options.filter!=$defaultFilter||$history[$history.length-1]!=$defaultSort?$elm.removeClass("hide").show():$elm.hide()})})}},{}],3:[function(require,module){module.exports=function(){var $defaultFilter=(this.settings.dataSelectors.clearFilter,this.settings.defaults.sort,this.settings.defaults.filter),$instance=this.instances[this.guid],$self=this;$.each($instance.clearContainer,function(key,container){var $clearers=container.elm;$clearers.each(function(idx,elm){var $elm=$(elm);$elm.hide().removeClass("hide").on("click",function(e){e.preventDefault(),$self.useHash===!0?$self.hash._setHash.call($self,$instance.isotope,$defaultFilter):($instance.isotope.arrange({filter:$defaultFilter}),$self._onIsotopeChange.call($self,$instance)),$elm.hide()})})})}},{}],4:[function(require,module){module.exports=function(){var $args=arguments[0]||{},instances=[];return"function"!=typeof window.Isotope?void alert("simpleIsotope: Isotope.JS couldn't be found. Please include 'isotope.js'."):($.each(this,function(idx,elm){var obj={container:$(elm),settings:{itemSelector:".item",dataSelectors:{filter:"data-filter",type:"data-filter-type",filterMethod:"data-filter-method",filterMultiple:"data-filter-multiple",sortBy:"data-sort-by",sortBySelector:"data-sort-selector",sortDirection:"data-sort-direction",forContainer:"data-isotope-container",clearFilter:"data-clear-filter",feedback:"data-feedback"},defaults:{filter:"*",sort:"original-order",classNames:{active:"active"}}}};instances.push(new $.simpleIsotope($.extend(obj,$args)))}),$.each(instances,function(idx,elm){elm.sorter._createButtons.call(elm),elm.filter._createButtons.call(elm),elm.clear._createButtons.call(elm),elm.text._feedback.call(elm),elm.clear.__check.call(elm)}),instances)}},{}],5:[function(require,module){module.exports=function($args){$.extend(this,$args);var $self=this,theHash=this.hash._getHash.call(this);this._getFilterTestOrginal=Isotope.prototype._getFilterTest,Isotope.prototype._getFilterTest=this.utils._getFilterTest.bind(this),this.guid=this.container.attr("id")||(new Date).getTime(),this.encodeURI=!1,this.allFilters[this.guid]=this.allFilters[this.guid]||{},this.allSorters[this.guid]=this.allSorters[this.guid]||{},this.instances[this.guid]={isotope:!1,filterContainer:{},sortContainer:{},clearContainer:{},feedbackContainer:{}},this.utils._setContainers.call(this,this.instances[this.guid].isotope),this.instances[this.guid].isotope=new Isotope(this.container.context,{filter:theHash||"*",itemSelector:$self.settings.itemSelector||".item",layoutMode:$self.container.data("layout")||"fitRows",getSortData:$self.utils._getSortData.call(this)}),null!==this.container.data("hash")&&void 0!==this.container.data("hash")&&(this.useHash=!0),void 0!==window.imagesLoaded&&this.container.imagesLoaded(function(){$self.instances[$self.guid].isotope.layout()}),$(window).on("hashchange",this.hash._onHashChanged.bind(this))}},{}],6:[function(require,module){module.exports=function($instance){var $dataFilter=this.settings.dataSelectors.filter,$defaultFilter=this.settings.defaults.filter,$instance=$instance||this.instances[this.guid],$activeClass=this.settings.defaults.classNames.active;$.each($instance.isotope.options.filter.split(","),function(index,filter){$.each($instance.filterContainer,function(idx,container){var elm=container.elm.find("["+$dataFilter+'="'+filter+'"]');if(elm.prop("tagName")&&"option"===elm.prop("tagName").toLowerCase())elm.attr("selected","selected");else{0===index&&container.elm.find("["+$dataFilter+"]").removeClass($activeClass);var active=elm.addClass($activeClass);active.length>0&&filter!=$defaultFilter&&container.elm.find("["+$dataFilter+'="'+$defaultFilter+'"]').removeClass($activeClass)}})})}},{}],7:[function(require,module){module.exports=function(){var $dataFilter=this.settings.dataSelectors.filter,$instance=this.instances[this.guid],$self=this;$.each($instance.filterContainer,function(key,container){var $filters=container.elm.find("["+$dataFilter+"]");$filters.each(function(idx,elm){var $elm=$(elm),how={eventName:"option"==$elm.prop("tagName").toLowerCase()?"change":"click",element:"option"==$elm.prop("tagName").toLowerCase()?$elm.closest("select"):$elm};how.element.on(how.eventName,function(e){if(e.preventDefault(),"change"==how.eventName&&how.element.find("option:selected")[0]!=elm)return!1;var activeFilters,$dataFilterAttr=$elm.attr($dataFilter),$filterValue=$dataFilterAttr,newFilters=$dataFilterAttr;$self.useHash===!0?$self.hash._setHash.call($self,$instance.isotope,$filterValue):(activeFilters=$instance.isotope.options.filter,"*"!==activeFilters&&"*"!==$filterValue&&(activeFilters=activeFilters.split(","),newFilters=[],$.each(activeFilters,function(index,element){var setting=$self.allFilters[$self.guid][element];setting.filterMultiple?newFilters.push(element):container.elm!==setting.elm&&newFilters.push(element)}),container.filterMultiple?-1===newFilters.indexOf($filterValue)?newFilters.push($filterValue):newFilters.splice(newFilters.indexOf($filterValue),1):newFilters.push($filterValue),newFilters=newFilters.join(",")),""===newFilters&&(newFilters="*"),$instance.isotope.arrange({filter:newFilters}),$self._onIsotopeChange.call($self,$instance))})})})}},{}],8:[function(require,module){module.exports=function(re,str){for(var match,matches={};null!==(match=re.exec(str));)match.index===re.lastIndex&&re.lastIndex++,null!==match[3]&&void 0!==match[3]?matches[match[3]]=!0:((null===matches[match[1]]||void 0===matches[match[1]])&&(matches[match[1]]=[]),matches[match[1]].push(match[2]));return matches}},{}],9:[function(require,module){module.exports=function(){var $hash=window.location.hash||!1,$newHash="";$hash=$hash!==!1&&"#"!==$hash&&""!==$hash?decodeURIComponent(window.location.hash):"*","#"===$hash.charAt(0)&&($hash=$hash.slice(1));var hashArray=$hash.split("&");return $.each(hashArray,function(key,$partHash){if(-1!==$partHash.indexOf("=")){var values,name,tmp=$partHash.split("="),arr=[];tmp.length>1&&(name=tmp[0],values=tmp[1].replace(/\'/g,"")),values=values.split(",");for(var i=0;i<values.length;i++)arr.push("[data-"+name+"='"+values[i]+"']");$newHash+=arr.join(",")}else $newHash+="*"==$partHash||"."==$partHash.charAt(0)?$partHash:"."+$partHash;key!=hashArray.length-1&&($newHash+=",")}),$newHash}},{}],10:[function(require,module){module.exports=function(){this._setIsotope.call(this,this.hash._getHash.call(this))}},{}],11:[function(require,module){module.exports=function($instance,$newHash){var $combinedHash,$currentHash="*"==$instance.options.filter?"":$instance.options.filter,$endHash=[];if("*"!=$newHash){$combinedHash=-1===$currentHash.indexOf($newHash)?$currentHash+$newHash:$currentHash.replace($newHash,"");var $formattedHash=this.hash._formatHash(/\[data\-(.+?)\=\'(.+?)\'\]|(.[A-Za-z0-9]+)/g,$combinedHash);$.each($formattedHash,function(key,elm){$endHash.push(elm===!0?"."==key.charAt(0)?key.slice(1):key:key+"="+elm.join(","))}),$endHash=$endHash.join("&")}else $endHash=$newHash;return window.location.hash="*"===$endHash||""===$endHash?"":this.encodeURI===!0?encodeURIComponent($endHash):$endHash,$endHash}},{}],12:[function(require){var $=window.jQuery;$.simpleIsotope=require("./constructor/prototype.js"),$.simpleIsotope.prototype={instances:{},allFilters:{},allSorters:{},constructor:$.simpleIsotope,hash:{_getHash:require("./hash/_getHash.js"),_setHash:require("./hash/_setHash.js"),_formatHash:require("./hash/_formatHash.js"),_onHashChanged:require("./hash/_onHashChanged.js")},filter:{_createButtons:require("./filter/_createFilters.js"),_check:require("./filter/_check.js")},sorter:{_createButtons:require("./sorter/_createSorters.js"),_check:require("./sorter/_check.js")},clear:{_createButtons:require("./clear/_createClearers.js"),_check:require("./clear/_check.js"),__check:require("./clear/__check.js")},text:{_feedback:require("./text/_feedback.js")},utils:{_setContainers:require("./utils/_setContainers.js"),_getForContainerAndId:require("./utils/_getForContainerAndId.js"),_getSortData:require("./utils/_getSortData.js"),_getElementFromDataAttribute:require("./utils/_getElementFromDataAttribute.js"),_getFilterTest:require("./utils/_getFilterTest.js"),_getInstances:require("./utils/_getInstances.js")},_onBeforeIsotopeChange:function(){},_onIsotopeChange:function($instance){this.filter._check.call(this,$instance),this.sorter._check.call(this,$instance),this.clear._check.call(this,$instance.isotope),this.text._feedback.call(this,$instance.isotope)},_setIsotope:function($selector){this.instances[this.guid].isotope.arrange({filter:$selector}),this._onIsotopeChange(this.instances[this.guid])}},$.fn.simpleIsotope=require("./constructor/jquery.js"),$(document).ready(function(){$.each($("[data-isotope]"),function(key,elm){$(elm).simpleIsotope()})}),Function.prototype.bind||(Function.prototype.bind=function(oThis){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP&&oThis?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)))};return fNOP.prototype=this.prototype,fBound.prototype=new fNOP,fBound}),Function.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},{"./clear/__check.js":1,"./clear/_check.js":2,"./clear/_createClearers.js":3,"./constructor/jquery.js":4,"./constructor/prototype.js":5,"./filter/_check.js":6,"./filter/_createFilters.js":7,"./hash/_formatHash.js":8,"./hash/_getHash.js":9,"./hash/_onHashChanged.js":10,"./hash/_setHash.js":11,"./sorter/_check.js":13,"./sorter/_createSorters.js":14,"./text/_feedback.js":15,"./utils/_getElementFromDataAttribute.js":16,"./utils/_getFilterTest.js":17,"./utils/_getForContainerAndId.js":18,"./utils/_getInstances.js":19,"./utils/_getSortData.js":20,"./utils/_setContainers.js":21}],13:[function(require,module){module.exports=function($instance){var $dataSort=this.settings.dataSelectors.sortBy,$defaultSort=this.settings.defaults.sort,$instance=$instance||this.instances[this.guid],$activeClass=this.settings.defaults.classNames.active,$sortHistory=$instance.isotope.sortHistory,$sortAscending=$instance.isotope.options.sortAscending;$.each($instance.sortContainer,function(idx,container){var elm=container.elm.find("["+$dataSort+"]"),sortDirection="desc";if($sortAscending&&(sortDirection="asc"),elm.prop("tagName")&&"option"===elm.prop("tagName").toLowerCase());else{elm.removeClass($activeClass);var active=container.elm.find("["+$dataSort+'="'+$sortHistory[0]+'"][data-sort-direction="'+sortDirection+'"]').addClass($activeClass);active.length>0&&$sortHistory[0]!=$defaultSort?container.elm.find("["+$dataSort+'="'+$defaultSort+'"]').removeClass($activeClass):container.elm.find("["+$dataSort+'="'+$defaultSort+'"]').addClass($activeClass)}})}},{}],14:[function(require,module){module.exports=function(){var $dataSortBy=this.settings.dataSelectors.sortBy,$dataSortDirection=this.settings.dataSelectors.sortDirection,$defaultSort=this.settings.defaults.sort,$instance=this.instances[this.guid],$self=this;$.each($instance.sortContainer,function(key,container){var $sorters=container.elm.find("["+$dataSortBy+"]");$sorters.each(function(idx,elm){var $elm=$(elm),$dataSortAttr=$elm.attr($dataSortBy),how={eventName:"option"==$elm.prop("tagName").toLowerCase()?"change":"click",element:"option"==$elm.prop("tagName").toLowerCase()?$elm.closest("select"):$elm};how.element.on(how.eventName,function(e){if(e.preventDefault(),"change"==how.eventName&&how.element.find("option:selected")[0]!=elm)return!1;var $sortByValue="",$sortAsc=!1;$sortByValue=$dataSortAttr,null!==$elm.attr($dataSortDirection)&&void 0!==$elm.attr($dataSortDirection)&&"asc"===$elm.attr($dataSortDirection).toLowerCase()&&($sortAsc=!0),$elm.attr($dataSortBy)==$defaultSort&&($sortAsc=!0),$instance.isotope.arrange({sortBy:$sortByValue,sortAscending:$sortAsc}),$self._onIsotopeChange.call($self,$instance)})})})}},{}],15:[function(require,module){module.exports=function(){var $instance=this.instances[this.guid];$.each($instance.feedbackContainer,function(key,container){var $feedback=container.elm;$feedback.each(function(idx,elm){var $elm=$(elm);$elm.text($elm.attr("data-feedback").replace("{delta}",$instance.isotope.filteredItems.length))})})}},{}],16:[function(require,module){module.exports=function(selector){var $tmp;return""===selector||selector===!1||void 0===selector?!1:selector instanceof jQuery?selector:($tmp=$("#"===selector.charAt(0)||"."===selector.charAt(0)?selector:-1!==selector.indexOf("#")||-1!==selector.indexOf(".")?selector:-1!==selector.indexOf(" ")?selector:"#"+selector),0===$tmp.length?!1:$tmp)}},{}],17:[function(require,module){module.exports=function(filter){var $self=this;return function(item){for(var filters=filter.split(","),active=[],i=0,len=filters.length;len>i;i++)if(-1!==filters[i].indexOf("data-")){var cat=filters[i].replace(/\[data\-(.+?)\=\'(.+?)\'\]/g,"$1").trim(),value=filters[i].replace(/\[data\-(.+?)\=\'(.+?)\'\]/g,"$2").trim();void 0!==jQuery(item.element).data(cat)&&null!==jQuery(item.element).data(cat)&&-1!==jQuery(item.element).data(cat).indexOf(value)&&active.push(value)}else jQuery(item.element).is(filters[i])&&active.push(filters[i]);var filterMethod;return-1!==filters.indexOf("*")?!0:($.each(filters,function(idx,elm){filterMethod="or"===$self.allFilters[$self.guid][elm].filterMethod?"or":"and"}),"or"==filterMethod?active.length>0:active.length==filters.length)}}},{}],18:[function(require,module){module.exports=function($elm,timestamp){var forElement,container,forContainer,idContainer,idElement;if(forContainer=$elm.closest("["+this.settings.dataSelectors.forContainer+"]"),forContainer.length>0&&(forElement=forContainer.attr(this.settings.dataSelectors.forContainer),container=forContainer),idContainer=$elm.closest("[id]"),idContainer.length>0)idElement=idContainer.attr("id"),container=container?container:idContainer;else{var formatted=$($elm.parent()).text().trim().replace(/[^!a-zA-Z0-9]/g,"");idElement=""===formatted?timestamp:formatted,container=container?container:$elm.parent()}var filterContainerMultiple=$(container).attr(this.settings.dataSelectors.filterMultiple),filterMultiple=null!==filterContainerMultiple&&void 0!==filterContainerMultiple,filterMethod=filterContainerMultiple||"or";return{"for":forElement||this.guid,id:idElement,elm:$(container),filterMultiple:filterMultiple,filterMethod:filterMethod}}},{}],19:[function(require,module){module.exports=function(){var tmp=[];return $.each(this.instances,function(key,elm){tmp.push(elm.isotope)}),tmp}},{}],20:[function(require,module){module.exports=function(){var $sortData={},$dataSortBy=this.settings.dataSelectors.sortBy,$dataSortBySelector=this.settings.dataSelectors.sortBySelector,$dataSortByDefault=this.settings.defaults.sort;return $("["+$dataSortBy+"], ["+$dataSortBySelector+"]").each(function(idx,elm){var $elm=$(elm),$name=$elm.attr($dataSortBy)||null,$selector=$elm.attr($dataSortBySelector)||null;$name!=$dataSortByDefault&&(null!==$name&&null!==$selector?$sortData[$name]=$selector:alert("Isotope sorting: "+$dataSortBy+" and "+$dataSortBySelector+" are required. Currently configured "+$dataSortBy+"='"+$name+"' and "+$dataSortBySelector+"='"+$selector+"'"))}),$sortData}},{}],21:[function(require,module){module.exports=function(){function eachItem(ind,elm){var $elm=$(elm),dataType=this.dataType,filterContainer=$self.utils._getForContainerAndId.call($self,$elm,timestamp);if(($self.guid===filterContainer.for||filterContainer.for===!1)&&("data-filter"===dataType?sh.filterContainer[filterContainer.id]=filterContainer:"data-sort-by"===dataType?sh.sortContainer[filterContainer.id]=filterContainer:"data-clear-filter"===dataType?sh.clearContainer[filterContainer.id]=filterContainer:"data-feedback"===dataType&&(sh.feedbackContainer[filterContainer.id]=filterContainer)),"data-filter"===dataType||"data-sort-by"===dataType){var filters=filterContainer.elm.find("["+dataType+"]");filters.each(function(index,filter){$self.guid===filterContainer.for&&"*"!==$(filter).attr(dataType)&&("data-filter"===dataType?$self.allFilters[filterContainer.for][$(filter).attr(dataType)]=sh.filterContainer[filterContainer.id]:"data-sort-by"===dataType&&($self.allSorters[filterContainer.for][$(filter).attr(dataType)]=sh.sortContainer[filterContainer.id]))})}}var $self=this,sh=$self.instances[$self.guid],timestamp=(new Date).getTime();$("[data-filter]:first-child").each(eachItem.bind({dataType:"data-filter"})),$("[data-sort-by]:first-child").each(eachItem.bind({dataType:"data-sort-by"})),$("[data-clear-filter]").each(eachItem.bind({dataType:"data-clear-filter"})),$("[data-feedback]").each(eachItem.bind({dataType:"data-feedback"}))}},{}]},{},[12])(12)});