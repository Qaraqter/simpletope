!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self),o.simpleIsotope=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){module.exports=function(){this._onIsotopeChange.call(this,this.instances[this.guid].isotope)}},{}],2:[function(require,module){module.exports=function($instance){var $clear=$("["+this.settings.dataSelectors.clearFilter+"]"),$defaultSort=this.settings.defaults.sort,$defaultFilter=this.settings.defaults.filter,$dataFilter=this.settings.dataSelectors.filter,$dataSortBy=this.settings.dataSelectors.sortBy,$activeClass=this.settings.defaults.classNames.active,$self=this;$clear.each(function(key,elm){var $elm=$(elm);if($instance.options.filter!=$defaultFilter)$elm.show();else{$elm.hide();var fn=function(idx,elm){elm.find("."+$activeClass).removeClass($activeClass),elm.find("["+$dataFilter+'="'+$defaultFilter+'"]').addClass($activeClass),elm.find("["+$dataSortBy+'="'+$defaultSort+'"]').addClass($activeClass)};$.each($self.instances[$self.guid].filterContainer,fn),$.each($self.instances[$self.guid].sortContainer,fn)}})}},{}],3:[function(require,module){module.exports=function(){var $clear=$("["+this.settings.dataSelectors.clearFilter+"]"),$dataForContainer=this.settings.dataSelectors.forContainer,$defaultSort=this.settings.defaults.sort,$defaultFilter=this.settings.defaults.filter,$self=this;$clear.each(function(key,elm){var $elm=$(elm),$isFor=$clear.attr($dataForContainer)||!1,$container=$isFor===!1?$self._getInstances():$self._getElementsFromSelector($isFor);$elm.hide().on("click",function(e){e.preventDefault(),$.each($container,function($key,$instance){$self.useHash===!0?$self.hash._setHash.call($self,$instance,$defaultFilter):($instance.arrange({filter:$defaultFilter,sortBy:$defaultSort}),$self._onIsotopeChange.call($self,$instance))}),$elm.hide()})})}},{}],4:[function(require,module){module.exports=function(){var $args=arguments[0]||{},instances=[];return"function"!=typeof window.Isotope?void alert("simpleIsotope: Isotope.JS couldn't be found. Please include 'isotope.pkgd.min.js'."):($.each(this,function(idx,elm){var obj={container:$(elm),settings:{itemSelector:".item",dataSelectors:{filter:"data-filter",sortBy:"data-sort-by",sortBySelector:"data-sort-selector",sortDirection:"data-sort-direction",forContainer:"data-for-container",clearFilter:"data-clear-filter",feedback:"data-feedback",type:"data-filter-type"},defaults:{filter:"*",sort:"original-order",classNames:{active:"active"}}}};instances.push(new $.simpleIsotope($.extend(obj,$args)))}),$.each(instances,function(idx,elm){elm.sorter._createButtons.call(elm),elm.filter._createButtons.call(elm),elm.clear._createButtons.call(elm),elm.text._feedback.call(elm),elm.clear.__check.call(elm)}),instances)}},{}],5:[function(require,module){module.exports=function($args){$.extend(this,$args);var $self=this,theHash=this.hash._getHash.call(this);this.guid=this.container.attr("id")||(new Date).getTime(),this.encodeURI=!1,this.instances[this.guid]={isotope:new Isotope(this.container.context,{filter:theHash||"*",itemSelector:$self.settings.itemSelector||".item",layoutMode:$self.container.data("layout")||"fitRows",getSortData:$self._getSortData()}),filterContainer:{},sortContainer:{}},null!==this.container.data("hash")&&void 0!==this.container.data("hash")&&(this.useHash=!0),$(window).on("hashchange",this.hash._onHashChanged.bind(this))}},{}],6:[function(require,module){module.exports=function(){var $filters=$("["+this.settings.dataSelectors.filter+"]"),$dataFilter=this.settings.dataSelectors.filter,$dataForContainer=this.settings.dataSelectors.forContainer,$dataType=this.settings.dataSelectors.type,$defaultFilter=this.settings.defaults.filter,$activeClass=this.settings.defaults.classNames.active,$self=this;$filters.each(function(idx,elm){elm=$(elm);var $filterContainer=elm.closest("["+$dataForContainer+"]"),$multiple=0==$filterContainer.length?!1:$filterContainer.attr($dataType)||!1,$container=0==$filterContainer.length?$self._getInstances():$self._getElementsFromSelector($filterContainer.attr($dataForContainer)),$dataFilterAttr=elm.attr($dataFilter),filterContainerId=$filterContainer.attr("id")||(new Date).getTime();null==$self.instances[$self.guid].filterContainer[filterContainerId]&&($self.instances[$self.guid].filterContainer[filterContainerId]=$filterContainer),elm.on("click",function(e){e.preventDefault();var $filterValue="",active=$self._toggleClass(elm,$filterContainer,$activeClass,$multiple,$dataFilterAttr==$defaultFilter,"["+$dataFilter+'="'+$defaultFilter+'"]'),val=$filterValue=$dataFilterAttr;$.each($container,function(key,$instance){$self.useHash===!0?$self.hash._setHash.call($self,$instance,$filterValue,active):($multiple&&("*"==$instance.options.filter||"*"==$filterValue||(-1===$instance.options.filter.indexOf($filterValue)?($filterValue=$instance.options.filter.split(","),$filterValue.push(val),$filterValue=$filterValue.join(",")):($filterValue=$instance.options.filter.split(","),$filterValue.splice($filterValue.indexOf(val),1),$filterValue=$filterValue.join(","))),""==$filterValue&&($filterValue="*")),$instance.arrange({filter:$filterValue}),$self._onIsotopeChange.call($self,$instance))})})})}},{}],7:[function(require,module){module.exports=function(re,str){for(var match,matches={};null!=(match=re.exec(str));)match.index===re.lastIndex&&re.lastIndex++,null!==match[3]&&void 0!==match[3]?matches[match[3]]=!0:((null==matches[match[1]]||void 0==matches[match[1]])&&(matches[match[1]]=[]),matches[match[1]].push(match[2]));return matches}},{}],8:[function(require,module){module.exports=function(){var $hash=window.location.hash||!1,$newHash="",$self=this;return $hash=$hash!==!1&&"#"!=$hash&&""!=$hash?decodeURIComponent(window.location.hash):"*","#"===$hash.charAt(0)&&($hash=$hash.slice(1)),$.each($hash.split("&"),function(key,$partHash){if(-1!==$partHash.indexOf("=")){var tmp=$partHash.split("="),arr=[];if(tmp.length>1)var name=tmp[0],values=tmp[1].replace(/\'/g,"");values=values.split(",");for(var i=0;i<values.length;i++)arr.push("[data-"+name+"='"+values[i]+"']"),$('[data-filter="[data-'+name+"='"+values[i]+"']\"]").addClass($self.settings.defaults.classNames.active);$newHash+=arr.join(",")}else $newHash+=$partHash.replace("#",".").replace(/&/g,", .")}),$newHash}},{}],9:[function(require,module){module.exports=function(){this._setIsotope.call(this,this.hash._getHash.call(this))}},{}],10:[function(require,module){module.exports=function($instance,$newHash){var $combinedHash,$currentHash="*"==$instance.options.filter?"":$instance.options.filter;if("*"!=$newHash){$combinedHash=-1===$currentHash.indexOf($newHash)?$currentHash+$newHash:$currentHash.replace($newHash,"");var $formattedHash=this.hash._formatHash(/\[data\-(.+?)\=\'(.+?)\'\]|(.[A-Za-z0-9]+)/g,$combinedHash),$endHash=[];$.each($formattedHash,function(key,elm){$endHash.push(elm===!0?key:key+"="+elm.join(","))}),$endHash=$endHash.join("&")}else $endHash=$newHash;return window.location.hash="*"==$endHash||""==$endHash?"":this.encodeURI===!0?encodeURIComponent($endHash):$endHash,$endHash}},{}],11:[function(require){var $=window.jQuery;$.simpleIsotope=require("./constructor/prototype.js"),$.simpleIsotope.prototype={instances:{},constructor:$.simpleIsotope,hash:{_getHash:require("./hash/_getHash.js"),_setHash:require("./hash/_setHash.js"),_formatHash:require("./hash/_formatHash.js"),_onHashChanged:require("./hash/_onHashChanged.js")},filter:{_createButtons:require("./filter/_createButtons.js")},sorter:{_createButtons:require("./sorter/_createButtons.js")},clear:{_createButtons:require("./clear/_createButtons.js"),_check:require("./clear/_check.js"),__check:require("./clear/__check.js")},text:{_feedback:require("./text/_feedback.js")},utils:require("./utils/index.js"),_onBeforeIsotopeChange:function(){},_onIsotopeChange:function($instance){this.clear._check.call(this,$instance),this.text._feedback.call(this,$instance)},_setIsotope:function($selector){this.instances[this.guid].isotope.arrange({filter:$selector}),this._onIsotopeChange(this.instances[this.guid].isotope)},_getSortData:function(){var $sortData={},$dataSortBy=this.settings.dataSelectors.sortBy,$dataSortBySelector=this.settings.dataSelectors.sortBySelector,$dataSortByDefault=this.settings.defaults.sort;return $("["+$dataSortBy+"], ["+$dataSortBySelector+"]").each(function(idx,elm){var $elm=$(elm),$name=$elm.attr($dataSortBy)||null,$selector=$elm.attr($dataSortBySelector)||null;$name!=$dataSortByDefault&&(null!==$name&&null!==$selector?$sortData[$name]=$selector:alert("Isotope sorting: "+$dataSortBy+" and "+$dataSortBySelector+" are required. Currently configured "+$dataSortBy+"='"+$name+"' and "+$dataSortBySelector+"='"+$selector+"'"))}),$sortData},_toggleClass:function($elm,$container,className,multiple,match,findDefault){return match=match||!1,multiple=multiple||!1,multiple!==!1?match?($container.find("."+className).removeClass(className),$elm.addClass(className)):($container.find(findDefault).removeClass(className),$elm.toggleClass(className)):($container.find("."+className).removeClass(className),$elm.addClass(className)),$elm.hasClass(className)},_getInstances:function(){var tmp=[];return $.each(this.instances,function(key,elm){tmp.push(elm.isotope)}),tmp},_getElementsFromSelector:function(selector){var $tmp;if($tmp=$("#"==selector.charAt(0)||"."==selector.charAt(0)?selector:-1!==selector.indexOf("#")||-1!==selector.indexOf(".")?selector:-1!==selector.indexOf(" ")?selector:"#"+selector),0==$tmp.length)return console.error("simpleIsotope: We cannot find any DOM element with the CSS selector: "+selector),!1;var $tmpArr=[];return $.each(this.instances,function(key,instance){$(instance.isotope.element)[0]===$tmp[0]&&$tmpArr.push(instance.isotope)}),$tmpArr},_getFilterTest:function(filter){if(-1!==filter.indexOf("data-")){var cat=filter.replace(/\[data\-(.+?)\=\'(.+?)\'\]/g,"$1").split(","),value=filter.replace(/\[data\-(.+?)\=\'(.+?)\'\]/g,"$2").split(",");cat=cat.map(Function.prototype.call,String.prototype.trim),value=value.map(Function.prototype.call,String.prototype.trim);var active=value.filter(function(filter,index){return-1!==jQuery(item.element).data(cat[index]).indexOf(filter)});return console.log(active,active.length,cat,cat.length),active.length==cat.length}return jQuery(item.element).is(filter)}},$.fn.simpleIsotope=require("./constructor/jquery.js"),$(document).ready(function(){$.each($("[data-isotope]"),function(key,elm){$(elm).simpleIsotope()})})},{"./clear/__check.js":1,"./clear/_check.js":2,"./clear/_createButtons.js":3,"./constructor/jquery.js":4,"./constructor/prototype.js":5,"./filter/_createButtons.js":6,"./hash/_formatHash.js":7,"./hash/_getHash.js":8,"./hash/_onHashChanged.js":9,"./hash/_setHash.js":10,"./sorter/_createButtons.js":12,"./text/_feedback.js":13,"./utils/index.js":14}],12:[function(require,module){module.exports=function(){var $sorters=$("["+this.settings.dataSelectors.sortBy+"]"),$dataSortBy=this.settings.dataSelectors.sortBy,$dataForContainer=this.settings.dataSelectors.forContainer,$dataSortDirection=this.settings.dataSelectors.sortDirection,$dataType=this.settings.dataSelectors.type,$defaultSort=this.settings.defaults.sort,$activeClass=this.settings.defaults.classNames.active,$sortArray=[],$self=this;$sorters.each(function(idx,elm){var $elm=$(elm),$sortContainer=$elm.closest("["+$dataForContainer+"]"),$multiple=0==$sortContainer.length?!1:$sortContainer.attr($dataType)||!1,$container=0==$sortContainer.length?$self._getInstances():$self._getElementsFromSelector($sortContainer.attr($dataForContainer)),$dataSortAttr=$elm.attr($dataSortBy),sortContainerId=$sortContainer.attr("id")||(new Date).getTime();null==$self.instances[$self.guid].sortContainer[sortContainerId]&&($self.instances[$self.guid].sortContainer[sortContainerId]=$sortContainer);var how={eventName:"option"==$elm.prop("tagName").toLowerCase()?"change":"click",element:"option"==$elm.prop("tagName").toLowerCase()?$elm.closest("select"):$elm};how.element.on(how.eventName,function(e){if(e.preventDefault(),"change"==how.eventName&&how.element.find("option:selected")[0]!=elm)return!1;var $sortByValue="";$self._toggleClass($elm,$sortContainer,$activeClass,$multiple,$dataSortAttr==$defaultSort,"["+$dataSortBy+'="'+$defaultSort+'"]'),$multiple!==!1?($sortByValue=[],$dataSortAttr==$defaultSort?$sortArray=[]:-1===$sortArray.indexOf($dataSortAttr)?$sortArray.push($dataSortAttr):$sortArray.splice($sortArray.indexOf($dataSortAttr),1),$sortByValue=0==$sortArray.length?$defaultSort:$sortArray):$sortByValue=$dataSortAttr,$.each($container,function(key,container){var $sortAsc=!1;null!==$elm.attr($dataSortDirection)&&void 0!==$elm.attr($dataSortDirection)&&"asc"==$elm.attr($dataSortDirection).toLowerCase()&&($sortAsc=!0),$elm.attr($dataSortBy)==$defaultSort&&($sortAsc=!0),container.arrange({sortBy:$sortByValue,sortAscending:$sortAsc}),$self._onIsotopeChange.call($self,container)})})})}},{}],13:[function(require,module){module.exports=function(){var $feedback=$("["+this.settings.dataSelectors.feedback+"]"),$dataForContainer=this.settings.dataSelectors.forContainer,$self=this;$feedback.each(function(key,elm){var $elm=$(elm),$isFor=$feedback.attr($dataForContainer)||!1,$container=$isFor===!1?$self._getInstances():$self._getElementsFromSelector($isFor);$.each($container,function($key,$instance){$elm.text($elm.attr("data-feedback").replace("{delta}",$instance.filteredItems.length))})})}},{}],14:[function(){},{}]},{},[11])(11)});